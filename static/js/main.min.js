document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("mobile-menu-btn"),t=document.getElementById("mobile-menu");if(e&&t){e.addEventListener("click",function(){t.classList.toggle("hidden");const n=e.querySelector("i");t.classList.contains("hidden")?n.className="fas fa-bars text-xl":n.className="fas fa-times text-xl"});t.querySelectorAll("a").forEach(n=>{n.addEventListener("click",function(){t.classList.add("hidden");e.querySelector("i").className="fas fa-bars text-xl"})})}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href"),n=document.querySelector(t);if(n){const e=80,t=n.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"})}})});const n=document.querySelector("nav");let o=0;window.addEventListener("scroll",function(){const e=window.pageYOffset||document.documentElement.scrollTop;e>100?(n.classList.add("shadow-lg"),n.style.background="rgba(255, 255, 255, 0.95)"):(n.classList.remove("shadow-lg"),n.style.background="rgba(255, 255, 255, 0.9)"),o=e});const s=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate-fade-in-up")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll("section:not(#home)").forEach(e=>{s.observe(e)});document.querySelectorAll(".bg-white.rounded-2xl, .bg-gradient-to-r").forEach(e=>{s.observe(e)});const i=document.getElementById("home");i&&window.addEventListener("scroll",function(){const e=window.pageYOffset;e<window.innerHeight&&(i.style.transform=`translateY(${.5*e}px)`)}),window.matchMedia("(prefers-reduced-motion: reduce)").matches||function(){const e=document.createElement("div");e.className="particles-bg",i?.appendChild(e);for(let t=0;t<20;t++){const t=document.createElement("div");t.className="particle",t.style.left=100*Math.random()+"%",t.style.animationDelay=6*Math.random()+"s",t.style.animationDuration=6+4*Math.random()+"s",e.appendChild(t)}}();function a(e,t="info",n=5e3){const o=document.createElement("div");o.className="fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all transform translate-x-full";const s={success:"bg-green-500 text-white",error:"bg-red-500 text-white",warning:"bg-yellow-500 text-white",info:"bg-blue-500 text-white"};o.className+=` ${s[t]||s.info}`,o.textContent=e,document.body.appendChild(o),setTimeout(()=>{o.classList.remove("translate-x-full")},100),setTimeout(()=>{o.classList.add("translate-x-full"),setTimeout(()=>{document.body.removeChild(o)},300)},n)}document.querySelectorAll("button, .btn-tea-primary, .btn-tea-secondary").forEach(e=>{e.addEventListener("mouseenter",function(){this.style.transform="translateY(-2px)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)"})}),function(){const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver(function(e){e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.remove("opacity-0"),n.classList.add("opacity-100"),t.unobserve(n)}})});e.forEach(e=>t.observe(e))}(),window.addEventListener("load",function(){const e=performance.now();e>3e3&&console.warn("Page load time is slow:",Math.round(e),"ms")}),function(){const e=document.createElement("button");e.className="fixed bottom-6 right-6 bg-tea-dark text-white p-3 rounded-full shadow-lg opacity-0 pointer-events-none transition-all duration-300 hover:bg-tea-green z-40",e.innerHTML='<i class="fas fa-arrow-up"></i>',e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),document.body.appendChild(e),window.addEventListener("scroll",function(){window.pageYOffset>300?(e.classList.remove("opacity-0","pointer-events-none"),e.classList.add("opacity-100")):(e.classList.add("opacity-0","pointer-events-none"),e.classList.remove("opacity-100"))})}(),function(){const e=new Date("2025-11-02T10:00:00"),t=document.createElement("div");function n(){const n=new Date,o=e-n;if(o>0){const e=Math.floor(o/864e5),n=Math.floor(o%864e5/36e5),s=Math.floor(o%36e5/6e4),i=Math.floor(o%6e4/1e3);t.innerHTML=`\n                    <h3 class="text-xl font-bold text-white mb-4">ç›¸æ¨¡å¥³å­å¤§å­¦ ç›¸ç”Ÿç¥­ ã¾ã§ã‚ã¨</h3>\n                    <div class="grid grid-cols-4 gap-4 text-center">\n                        <div class="bg-white/20 rounded-lg p-3">\n                            <div class="text-2xl font-bold text-white">${e}</div>\n                            <div class="text-tea-light text-sm">æ—¥</div>\n                        </div>\n                        <div class="bg-white/20 rounded-lg p-3">\n                            <div class="text-2xl font-bold text-white">${n}</div>\n                            <div class="text-tea-light text-sm">æ™‚é–“</div>\n                        </div>\n                        <div class="bg-white/20 rounded-lg p-3">\n                            <div class="text-2xl font-bold text-white">${s}</div>\n                            <div class="text-tea-light text-sm">åˆ†</div>\n                        </div>\n                        <div class="bg-white/20 rounded-lg p-3">\n                            <div class="text-2xl font-bold text-white">${i}</div>\n                            <div class="text-tea-light text-sm">ç§’</div>\n                        </div>\n                    </div>\n                `}else t.innerHTML='\n                    <h3 class="text-2xl font-bold text-white">å­¦åœ’ç¥­é–‹å‚¬ä¸­ï¼</h3>\n                    <p class="text-tea-light mt-2">èŒ¶ãã¦ã‚‹ãƒ–ãƒ¼ã‚¹ã§ãŠå¾…ã¡ã—ã¦ã„ã¾ã™ï¼</p>\n                '}t.className="text-center mt-8 p-6 bg-white/10 rounded-xl";const o=document.getElementById("festival"),s=o?.querySelector(".container");s&&(s.appendChild(t),n(),setInterval(n,1e3))}();let d=[];const l=[38,38,40,40,37,39,37,39,66,65];document.addEventListener("keydown",function(e){d.push(e.keyCode),d.splice(-l.length-1,d.length-l.length),d.join(",").indexOf(l.join(","))>=0&&(a("ğŸƒ ä½é‡å·èŒ¶ã®ç§˜å¯†ã‚’ç™ºè¦‹ã—ã¾ã—ãŸï¼ç‰¹åˆ¥ãªèŒ¶ãã¦ã‚‹ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„ï¼","success",8e3),document.body.style.animation="gradient-shift 3s ease",setTimeout(()=>{document.body.style.animation=""},3e3))})});