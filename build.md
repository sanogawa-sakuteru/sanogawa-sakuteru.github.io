How to Build
----
* ç”ŸHTMLã‚’ãƒˆãƒƒãƒ—ã«ã—ã¦ã‚‹ã¨ã€ç”ŸHTMLã¯ã€Œé–‹ç™ºç’°å¢ƒã€ã§ç¢ºèªã§ããªã„
* GitHub Page ç”¨ã«å‡ºåŠ›å…ˆã¯ ã€Œpublicã€ -> ã€Œdocsã€ã«å¤‰æ›´
* index.htmlã®ç·¨é›†ã¯ã€Œstatic/index.htmlã€ã‚’ç·¨é›†ã™ã‚‹ã“ã¨

ãƒ“ãƒ«ãƒ‰ (åˆå›ã®ã¿)
```
$ npm install
```

ãƒ“ãƒ«ãƒ‰ (public -> docsã«å‡ºåŠ›)
```
$ npm run clean
$ npm run build:docs
$ npm run serve
```
windows version (Power Shell version)
```
$ npm run clean:win
$ npm run build:docs-win
$ npm run serve
```

ğŸ’¡ **Tips**
* ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«æŒ™å‹•ã‚’ç¢ºèªã—ãŸã„ã¨ãã¯å¿…ãš
  ```bash
  gatsby build && gatsby serve
  ```
  ã‚’å®Ÿè¡Œã—ã¦ã€**æœ¬ç•ªãƒ“ãƒ«ãƒ‰å¾Œã®é™çš„ã‚µã‚¤ãƒˆ**ã‚’ç¢ºèªã™ã‚‹

  ãŸã ã—ã€gatsbyæ¨™æº–staticãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã€Œ**public**ã€ã‚’å‚ç…§ã™ã‚‹ã€‚  
  GitHubç”¨ã«ã€Œ**docs**ã€ã«å‡ºåŠ›å…ˆã‚’å¤‰æ›´ã—ã¦ã„ãŸå ´åˆã¯è¡¨ç¤ºã§ããªã„

  **docs**ã«å¤‰æ›´ã—ã¦ã„ãŸå ´åˆã¯ã€**docs**ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç§»å‹•ã—ã¦ã€"http-sever"ãªã©ã®ãƒ­ãƒ¼ã‚«ãƒ«HTTPã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ç¢ºèªã™ã‚‹

  http-serverã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  ```
  $ npm install -g http-server
  ```
  
---

`gatsby develop` ã¨ `gatsby serve` ã®é•ã„ã‚’æ•´ç†ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ğŸ‘‡

* gatsby develop ã¯é–‹ç™ºç”¨ã‚µãƒ¼ãƒãƒ¼ã§ã€å®Ÿéš›ã®é™çš„å‡ºåŠ›(public)ã«ã¯å‡ºåŠ›ã•ã‚Œãªã„ 
* gatsby build â†’ public/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚
* gatsby serve ã‚’ä½¿ãˆã°ãƒ­ãƒ¼ã‚«ãƒ«ã§æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã‚’ç¢ºèªã§ãã‚‹

---

### ğŸ§© **1. gatsby develop**

* **ç”¨é€”**ï¼šé–‹ç™ºç”¨ã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¡ä¸Šã’ã‚‹ï¼ˆé–‹ç™ºä¸­ã«ä½¿ã†ï¼‰
* **ã‚³ãƒãƒ³ãƒ‰**ï¼š`gatsby develop`
* **URL**ï¼šé€šå¸¸ `http://localhost:8000`
* **ç‰¹å¾´**

  * ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆå¤‰æ›´å³åæ˜ ï¼‰ãŒæœ‰åŠ¹
  * ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ç›£è¦–ã—ã¦ã€è‡ªå‹•ã§å†ãƒ“ãƒ«ãƒ‰
  * ã‚½ãƒ¼ã‚¹ãƒãƒƒãƒ—ãªã©ã®é–‹ç™ºç”¨æƒ…å ±ã‚’å«ã‚€
  * ç’°å¢ƒå¤‰æ•° `.env.development` ãŒä½¿ã‚ã‚Œã‚‹
* **ç›®çš„**

  * é–‹ç™ºä¸­ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å³ç¢ºèªã—ãŸã„ã¨ã

---

### ğŸš€ **2. gatsby serve**

* **ç”¨é€”**ï¼šæœ¬ç•ªãƒ“ãƒ«ãƒ‰ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèªã™ã‚‹
* **ã‚³ãƒãƒ³ãƒ‰**ï¼š

  ```
  gatsby build
  gatsby serve
  ```
* **URL**ï¼šé€šå¸¸ `http://localhost:9000`
* **ç‰¹å¾´**

  * `gatsby build` ã§ç”Ÿæˆã•ã‚ŒãŸé™çš„ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`public/`ï¼‰ã‚’é…ä¿¡
  * ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã¯ãªã—
  * å®Ÿéš›ã®æœ¬ç•ªã‚µã‚¤ãƒˆã¨ã»ã¼åŒã˜æŒ™å‹•
  * ç’°å¢ƒå¤‰æ•° `.env.production` ãŒä½¿ã‚ã‚Œã‚‹
* **ç›®çš„**

  * æœ¬ç•ªãƒ“ãƒ«ãƒ‰å¾Œã®å‹•ä½œã‚’ãƒ†ã‚¹ãƒˆã—ãŸã„ã¨ãï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤å‰ã®ç¢ºèªï¼‰

---

### ğŸ” **ã¾ã¨ã‚**

| ã‚³ãƒãƒ³ãƒ‰             | ç›®çš„      | ä½¿ç”¨ã™ã‚‹ç’°å¢ƒå¤‰æ•°           | è‡ªå‹•æ›´æ–° | ç”¨é€”       |
| ---------------- | ------- | ------------------ | ---- | -------- |
| `gatsby develop` | é–‹ç™º      | `.env.development` | âœ… ã‚ã‚Š | é–‹ç™ºä¸­ã®ç¢ºèª   |
| `gatsby serve`   | æœ¬ç•ªãƒ“ãƒ«ãƒ‰ç¢ºèª | `.env.production`  | âŒ ãªã— | ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã®ç¢ºèª |

---

### ç”Ÿã®HTMLã‚’ãƒˆãƒƒãƒ—ã«å‡ºã—ãŸã„
* ç”Ÿã®HTMLâ€ã‚’ãƒˆãƒƒãƒ—ã«å‡ºã—ãŸã„ï¼ˆGatsbyã®Reactã‚’é€šã•ãªã„ï¼‰
static/ é…ä¸‹ã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«ãã®ã¾ã¾ã‚µã‚¤ãƒˆç›´ä¸‹ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã™ã€‚
```
gatsby-project/
â””â”€â”€ static/
    â””â”€â”€ index.html

ä¾‹: static/index.html â†’ /index.html ã§é…ä¿¡ã•ã‚Œã‚‹ã€‚
```

gatsby-node.js ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’è¿½åŠ 
```
// gatsby-node.js
exports.createPages = async ({ actions }) => {
  const { createRedirect } = actions
  createRedirect({
    fromPath: '/',           // ãƒ«ãƒ¼ãƒˆã«æ¥ãŸã‚‰
    toPath: '/index.html',    // ç”ŸHTMLã¸è»¢é€
    isPermanent: true,
    redirectInBrowser: true,
  })
}
```

index.js ã‚’åå‰ã‚’å¤‰æ›´
```
gatsby-project/
â””â”€â”€ src/
    â””â”€â”€ pages/
        â”œâ”€â”€ index.js  -->  index_backup.js ã‚‚ã—ãã¯å‰Šé™¤ã™ã‚‹
```

### gatsbyã§ã®index.html

static/index.html ã¯ ãƒ“ãƒ«ãƒ‰å¾Œï¼ˆgatsby buildï¼‰ã« public/index.html ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ã ã‘ã§ã€é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã§ã¯ç„¡è¦–ã•ã‚Œã¾ã™ã€‚ãã®ãŸã‚ã€gatsby develop ã§ http://localhost:8000/index.html ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‚ã€Gatsbyã¯ãã®ãƒ«ãƒ¼ãƒˆã‚’èªè­˜ã›ãšã€404ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™


| æ–¹æ³•	              | é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã§å‹•ä½œ | æœ¬ç•ªãƒ“ãƒ«ãƒ‰ã§å‹•ä½œ   | Gatsbyæ¨å¥¨  |
|:--------------------|:-----------------|:------------------|:-----------|
| src/pages/index.js  | âœ…	           | âœ…	             | âœ…         |
| static/index.html   | âŒ              | â­•ï¼ˆãŸã ã—é™å®šçš„ï¼‰ | âŒ         |


ä»£æ›¿ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ‰±ã„ãŸã„å ´åˆã€ä»¥ä¸‹ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ–¹ãŒä¸€èˆ¬çš„ã§ã™
* gatsby-plugin-static-site
* gatsby-source-filesystem: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
* gatsby-transformer-remark: Markdownã‚’HTMLã«å¤‰æ›
* gatsby-plugin-mdx: MDXãƒ•ã‚¡ã‚¤ãƒ«ã‚’Reactã¨ã—ã¦æ‰±ã†


### gh-pages
gh-pagesã‚’ä½¿ã†å ´åˆ

åˆå›ã®ã¿
```
$ npm install gh-pages --save-dev
```

GitHub Pageã«publicãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å†…å®¹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤
```
$ gh-pages -d public
```

### GitHub Pages ã§ Jekyll ã«ã‚ˆã‚‹è‡ªå‹•å¤‰æ›ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ (.nojekyll)
ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ«ãƒ¼ãƒˆï¼ˆGitHub Pages ã®ã‚½ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰ã« .nojekyll ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã

.nojekyllã¨ã„ã†åå‰ã®ç©ºãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹
```
$ touch .nojekyll
```
